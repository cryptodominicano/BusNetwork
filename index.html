<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BusFleetAI - Intelligent Bus Fleet Management</title>
    <meta name="description" content="BusFleetAI - Intelligent Bus Fleet Management Solutions" />
    <meta name="author" content="BusFleetAI" />

    <meta property="og:title" content="BusFleetAI" />
    <meta property="og:description" content="BusFleetAI - Intelligent Bus Fleet Management Solutions" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://www.busfleetai.com/assets/open-graph.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@BusFleetAI" />
    <meta name="twitter:image" content="https://www.busfleetai.com/assets/open-graph.png" />
    <link rel="icon" type="image/png" href="/images/logo.png" />
    <script type="module" crossorigin src="/assets/index-B6OA1am8.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-D3t_mO8X.css">
    <style>
      /* Make header permanently white */
      header, nav, [class*="fixed"][class*="top-0"] {
        background-color: white !important;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1) !important;
      }
      /* Make nav links dark on white header */
      header a, nav a {
        color: hsl(213, 37%, 24%) !important;
      }
      header a:hover, nav a:hover {
        color: hsl(17, 100%, 60%) !important;
      }
      /* Keep the CTA button orange */
      header a[class*="bg-accent"], nav a[class*="bg-accent"],
      header button[class*="bg-accent"], nav button[class*="bg-accent"] {
        color: white !important;
      }

      /* Replace header logo with BusFleetAI logo */
      .w-10.h-10.rounded-lg.bg-primary {
        background: url('/assets/logo.png') center/contain no-repeat !important;
        width: 400px !important;
        height: 200px !important;
        border-radius: 0 !important;
      }
      .w-10.h-10.rounded-lg.bg-primary svg {
        display: none !important;
      }
      /* Hide the "Bus Fleet AI" text next to logo since logo already has text */
      .w-10.h-10.rounded-lg.bg-primary + span {
        display: none !important;
      }

      /* WhatsApp link styling */
      .whatsapp-link {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        color: hsl(213, 37%, 24%) !important;
        text-decoration: none;
        font-weight: 500;
        font-size: 14px;
        transition: color 0.2s;
      }
      .whatsapp-link:hover {
        color: #25D366 !important;
      }
      .whatsapp-link svg {
        width: 20px;
        height: 20px;
        fill: #25D366;
      }
      .whatsapp-link-footer {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        color: rgba(255, 255, 255, 0.8) !important;
        text-decoration: none;
        font-size: 14px;
        transition: color 0.2s;
      }
      .whatsapp-link-footer:hover {
        color: #25D366 !important;
      }
      .whatsapp-link-footer svg {
        width: 20px;
        height: 20px;
        fill: #25D366;
      }

      /* Fix for integrations section being cut off by wave - only on large screens */
      @media (min-width: 1440px) {
        /* Extend the hero section to give more room above the wave */
        .gradient-hero {
          padding-bottom: 75px !important;
        }
        /* Ensure integrations text and logos stay visible above wave */
        .text-white\/60.text-sm.mb-4,
        .text-white\/60.text-sm.mb-4 + div {
          position: relative;
          z-index: 20;
        }
      }

      /* Hide Lovable badge/watermark and any overlay elements */
      #lovable-badge,
      [id*="lovable"],
      [class*="lovable"],
      a[href*="lovable.dev"],
      a[href*="lovable.app"],
      div[style*="fixed"][style*="bottom"][style*="right"] > a[href*="lovable"],
      body > div:last-of-type:not(#root) a[href*="lovable"],
      /* Hide any floating badge in bottom-right corner */
      body > div:not(#root):last-of-type,
      [class*="fixed"][class*="bottom-4"][class*="right-4"],
      [class*="fixed"][class*="bottom-2"][class*="right-2"],
      /* Hide iframes and overlays that might be badges */
      body > iframe,
      body > div:not(#root),
      iframe[style*="fixed"],
      iframe[style*="bottom"],
      iframe[style*="right"],
      div[style*="z-index: 9999"],
      div[style*="z-index:9999"],
      div[style*="position: fixed"][style*="bottom"],
      div[style*="position:fixed"][style*="bottom"],
      /* Target badge inside React root - fixed z-50 with external link */
      #root > div.fixed.z-50,
      #root > div.z-50.fixed,
      .fixed.z-50.bottom-4.right-4,
      .fixed.bottom-4.right-4.z-50,
      div.fixed.bottom-4.right-4,
      a[target="_blank"][rel*="noopener"].fixed,
      .z-50 a[target="_blank"],
      #root > div:last-child:not(main):not(section):not(header):not(footer),
      /* Toast/notification container (the actual floating box) */
      ol.fixed,
      ol[tabindex="-1"],
      ol.flex-col-reverse,
      ol.max-h-screen {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        pointer-events: none !important;
        width: 0 !important;
        height: 0 !important;
      }
    </style>
  </head>

  <body>
    <div id="root"></div>

    <script>
      // Remove Lovable badge only - runs once after page loads, no MutationObserver
      function removeBadge() {
        // Only remove iframes (often used for badges)
        document.querySelectorAll('body > iframe').forEach(el => el.remove());

        // Remove elements with lovable in href
        document.querySelectorAll('a[href*="lovable"]').forEach(el => {
          const parent = el.closest('div.fixed');
          if (parent) parent.remove();
          else el.remove();
        });
      }

      // Run only after page is fully loaded - no observer to avoid conflicts
      window.addEventListener('load', () => {
        setTimeout(removeBadge, 2000);
        setTimeout(removeBadge, 5000);
      });

      // Intercept all form submissions and send to Formspree
      document.addEventListener('submit', async function(e) {
        const form = e.target;
        if (form.tagName === 'FORM') {
          e.preventDefault();

          // Gather form data directly from inputs for React compatibility
          const data = {};
          const inputs = form.querySelectorAll('input, textarea, select');
          inputs.forEach((input, i) => {
            const val = input.value || '';
            if (!val.trim()) return;
            let name = input.name || input.id;
            if (!name) {
              const ph = (input.placeholder || '').toLowerCase();
              if (ph.includes('name')) name = 'name';
              else if (ph.includes('email') || input.type === 'email') name = 'email';
              else if (ph.includes('phone') || input.type === 'tel') name = 'phone';
              else if (ph.includes('company')) name = 'company';
              else if (ph.includes('message') || input.tagName === 'TEXTAREA') name = 'message';
              else name = 'field_' + i;
            }
            data[name] = val;
          });

          if (Object.keys(data).length === 0) {
            alert('Please fill in at least one field.');
            return;
          }

          try {
            const response = await fetch('https://formspree.io/f/xgowpdbz', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
              },
              body: JSON.stringify(data)
            });

            if (response.ok) {
              alert('Thank you! Your message has been sent.');
              form.reset();
            } else {
              alert('There was an error sending your message. Please try again.');
            }
          } catch (error) {
            console.error('Form submission error:', error);
            alert('There was an error sending your message. Please try again.');
          }
        }
      }, true);

      // Add WhatsApp contact link to header and footer (runs only after page is fully loaded)
      function addWhatsAppLinks() {
        if (document.querySelector('.whatsapp-link')) return;

        const whatsappSVG = '<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>';

        // Header
        const header = document.querySelector('header');
        if (header) {
          const navContainer = header.querySelector('nav') || header;
          const navLinks = navContainer.querySelector('div.hidden.md\\:flex') || navContainer.querySelector('div[class*="gap"]');
          if (navLinks && navLinks.children.length > 0) {
            const link = document.createElement('a');
            link.href = 'https://wa.me/16103575363';
            link.target = '_blank';
            link.rel = 'noopener noreferrer';
            link.className = 'whatsapp-link';
            link.innerHTML = whatsappSVG + '<span>(610) 357-5363</span>';
            const lastChild = navLinks.lastElementChild;
            if (lastChild) navLinks.insertBefore(link, lastChild);
          }
        }

        // Footer
        const footer = document.querySelector('footer');
        if (footer && !footer.querySelector('.whatsapp-link-footer')) {
          const col = footer.querySelector('div > div > div');
          if (col) {
            const link = document.createElement('a');
            link.href = 'https://wa.me/16103575363';
            link.target = '_blank';
            link.rel = 'noopener noreferrer';
            link.className = 'whatsapp-link-footer';
            link.style.marginTop = '12px';
            link.innerHTML = whatsappSVG + '<span>WhatsApp: (610) 357-5363</span>';
            col.appendChild(link);
          }
        }
      }

      // Only run after everything is loaded
      window.addEventListener('load', function() {
        setTimeout(addWhatsAppLinks, 1000);
        setTimeout(addWhatsAppLinks, 2000);
      });
    </script>
  </body>
</html>
